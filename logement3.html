<!-- Source en bas de  la page -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consommation du Logement</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #e8f3eb;
            color: #3c280d;
            margin: 0;
            padding: 0;
        }

        /* En-tête */
        /* Style général du header */
        header {
            position: relative;
            height: 100vh;
            background: url('assets/images/logement3.1.png') center/cover no-repeat;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-bottom: 100px;
        }

        /* Style pour le menu en haut de page */
        header nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Fond semi-transparent */
            padding: 10px 20px;
            display: flex;
            justify-content: center; /* Centre les éléments horizontalement */
        }

        /* Style des éléments du menu */
        nav ul {
            list-style: none;
            display: flex;
            gap: 170px; /* Augmenter l'espace entre les éléments */
            margin: 0;
            padding: 0;
        }

        nav ul li {
            font-size: 20px;
            font-weight: bold;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--alabaster);
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--reseda-green);
            text-decoration: underline;
        }

        /* Style pour le texte principal */
        header h1 {
            color : #232323;
            font-size: 4rem;
            font-weight: bold;
            margin: 0;
            z-index: 1; /* Assure que le texte reste visible */
            margin-top: -350px; /* Diminue l'espace au-dessus du texte */
            margin-left : -400px;
        }


        

        .main-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 40px auto;
            max-width: 1200px;
            gap: 60px;
        }
        
         /* Section principale */
         .main-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 40px auto;
            max-width: 1200px;
            gap: 60px;
        }
        
        .main-content img {
            max-width: 40%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            margin-left: auto;
        }
        
        /* Texte à gauche */
        .main-content .text-left {
            flex: 1;
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 20px;
            margin-top: -20px;
        }
        
        /* Texte centré */
        .main-content .text-center {
            flex: 1;
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .main-content .text-left h2 {
            font-size: 14px;
            font-weight: 300;
            color: var(--dark-green);
            margin-bottom: 20px;
            margin-top: -350px;
        }
        
        .main-content .text-left p {
            font-size: 18px;
            line-height: 1.6;
            color: var(--reseda-green);
        }
        
        .main-content .text-center h3 {
            margin-top: 50px;
            text-align: left;
        }
        
        .main-content .text-center p {
            margin-top: 20px;
            text-align: left;
        }
        
        /* Détails des chambres */
        .details-section {
            margin-top: 100px;
            margin: 60px auto;
            max-width: 1200px;
        }

        /* Section de la chambre avec marge */
        .details-section .room-details {
            margin-top: 100px;
            margin-bottom: 200px;
        }

        /* Titres des chambres */
        .details-section h3 {
            font-size: 32px; /* Taille plus grande */
            color: var(--dark-green);
            margin-bottom: 30px;
        }

        /* Bloc des caractéristiques des capteurs avec flexbox */
        .details-section .feature-block {
            margin-top: 40px;
            display: flex;
            justify-content: space-between; /* Pour distribuer l'espace entre les éléments */
            align-items: center; /* Pour aligner verticalement le contenu */
            gap: 20px;
            padding: 20px 0;
            border-top: 2px solid var(--ash-gray);
        }

        /* Texte dans le bloc de caractéristiques */
        .feature-block p {
            font-size: 18px; /* Texte plus grand */
            line-height: 1.8;
            color: var(--reseda-green);
            flex: 1; /* Le texte prend toute la place restante */
            padding-right: 20px; /* Espacement entre le texte et l'image de gauche */
        }

        /* Image dans le bloc de caractéristiques */
        .feature-block img {
            width: 30%; /* Limite la largeur des images */
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Ajouter des styles pour le texte technique des capteurs */
        .details-section .sensor-details {
            margin-top: 50px;
            font-size: 16px; /* Taille de texte ajustée */
            color: var(--gray);
            line-height: 1.6;
        }

        /* Texte spécifique pour les capteurs et actionneurs */
        .details-section .sensor-technique {
            font-style: italic;
            color: var(--dark-green);
            font-size: 16px;
            margin-top: 10px;
        }

        /*section consommation*/
        .consumption-section {
            margin: 60px auto;
            max-width: 1200px;
            text-align: center;
        }

        .consumption-section h2 {
            font-size: 28px;
            color: var(--dark-green);
        }

        /*section economies*/
        .savings-section {
            margin: 60px auto;
            max-width: 1200px;
            text-align: center;
        }
        
        .savings-section h2 {
            font-size: 28px;
            color: #2c6b2f;
            margin-bottom: 20px;
        }
        
        .savings-section .select-time {
            margin: 20px 0;
        }
        
        .savings-section .chart-container {
            margin: 40px auto;
            max-width: 800px;
        }
    </style>
</head>
<body>

    <!-- En-tête -->
    <header>
        <!-- Menu de navigation placé tout en haut -->
        <nav>
            <ul>
                <li><a href="#about">À propos de ce logement</a></li>
                <li><a href="#consumption">Consommation</a></li>
                <li><a href="#savings">Bilan des économies</a></li>
            </ul>
        </nav>
    
        <!-- Texte principal -->
        <h1>Troisième logement</h1>
    </header>

    <div class="main-content">
        <div class="text-left" id="about">
            <h2>À propos de ce logement</h2>
        </div>
    
        <!-- Nouveau bloc avec texte centré et un titre -->
        <div class="text-center">
            <h3 class="section-title">Découvrez un logement innovant et éco-responsable</h3>
            <p>
                Ce logement est conçu pour intégrer les dernières innovations en matière de durabilité et de connectivité. 
                Il est équipé de capteurs intelligents et d'actionneurs permettant de suivre et d'optimiser l'utilisation des ressources naturelles. 
                Chaque élément est pensé pour offrir un confort maximal tout en respectant l'environnement.
        </div>
    
        <img src="assets/images/logement3.2.jpg" alt="Aperçu du logement">
    </div>
    
    <!-- Détails des chambres -->
    <div class="details-section">
        <div class="room-details">
            <h3>Chambre A</h3>
            <p>Surface : 25 m²</p>
            <p>Capteurs : Température, Humidité, CO2, Présence</p>
            <p>Actionneurs : Volets roulants, Chauffage intelligent, Purificateur d'air connecté</p>
    
        <!-- Bloc des caractéristiques des capteurs -->
        <div class="feature-block">
            <p>Les capteurs surveillent la température, l'humidité, le CO2, et détectent la présence des occupants pour ajuster automatiquement les conditions de la pièce.</p>
            <img src="assets/images/logement3.3.webp" alt="Capteur 1">
            <img src="assets/images/logement3.4.jpg" alt="Capteur 2">
        </div>

        <!-- Détails sur les capteurs -->
        <div class="sensor-details">
            <p>Capteurs utilisés :</p>
            <ul>
                <li>
                    <a href="#" class="sensor-link" data-name="DHT22" data-status="Actif" data-temp="22">DHT22 (Capteur de température et d'humidité)</a> : 
                    Mesure de la température et de l'humidité pour maintenir un confort optimal.
                </li>
                <li>
                    <a href="#" class="sensor-link" data-name="MH-Z14" data-status="Actif" data-temp="350">MH-Z14 (Capteur de CO2)</a> : 
                    Surveille la concentration de dioxyde de carbone pour garantir une bonne qualité de l'air.
                </li>
                <li>
                    <a href="#" class="sensor-link" data-name="HC-SR501" data-status="Actif" data-temp="150">HC-SR501 (Capteur de présence)</a> : 
                    Détecte la présence des occupants pour ajuster l'éclairage et la température.
                </li>
            </ul>
        </div>

         <!-- Bloc des caractéristiques des actionneurs -->
         <div class="feature-block">
            <img src="assets/images/logement3.5.jpg" alt="Actionneur 1">
            <p>Les actionneurs, comme les volets roulants et le chauffage intelligent, permettent de réguler l'environnement en fonction des données des capteurs, améliorant ainsi le confort tout en réduisant la consommation énergétique.</p>
            <img src="assets/images/actionneur3.1.jpg" alt="Actionneur 2">
        </div>
        <div class="sensor-details">
            <p>Actionneurs utilisés :</p>
            <ul>
                <li>
                    <a href="#" class="sensor-link" data-name="Volets Roulants Automatiques" data-status="Actif" data-temp="500">Volets Roulants Automatiques</a> :
                    Volets ajustables automatiquement en fonction de la lumière et de la température.
                </li>
                <li>
                    <a href="#" class="sensor-link" data-name="Chauffage Intélligent" data-status="Inactif" data-temp="600">Chauffage Intélligent</a> :
                    Réglage de la température en fonction de la présence et de la température ambiante.
                </li>
                <li>
                    <a href="#" class="sensor-link" data-name="Purificateur d'Air Connecté" data-status="Actif" data-temp="700">Purificateur d'Air Connecté</a> :
                    Purificateur d'air qui ajuste son fonctionnement selon la qualité de l'air et les niveaux de CO2.
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- Popup container -->
<div id="popup" class="popup-container" style="display: none;">
    <div class="popup-content">
        <span class="close-popup" onclick="closePopup()">&times;</span>
        <h3 id="popup-name"></h3>
        <p><strong>État :</strong> <span id="popup-status"></span></p>
        <p><strong>Valeur actuelle :</strong> <span id="popup-temp"></span></p>
    </div>
</div>

<!-- Styles pour la popup -->
<style>
    .sensor-link {
        color: black; 
        text-decoration: none; 
        cursor: pointer; 
    }
    
    .sensor-link:hover {
        text-decoration: underline; /* Ajoute un soulignement au survol pour l'accessibilité */
    }
.popup-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    border: 1px solid #ccc;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    padding: 20px;
    border-radius: 8px;
    width: 300px;
}

.popup-content {
    text-align: center;
}

.close-popup {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 18px;
    cursor: pointer;
    color: red;
}
</style>

<!-- JavaScript pour gérer les popups -->
<script>
function closePopup() {
    document.getElementById('popup').style.display = 'none';
}

document.querySelectorAll('.sensor-link').forEach(link => {
    link.addEventListener('click', (event) => {
        event.preventDefault(); // Empêche le comportement par défaut du lien

        // Récupère les données de l'élément cliqué
        const name = link.getAttribute('data-name');
        const status = link.getAttribute('data-status');
        const temp = link.getAttribute('data-temp');

        // Remplit les informations dans la popup
        document.getElementById('popup-name').textContent = name;
        document.getElementById('popup-status').textContent = status;
        document.getElementById('popup-temp').textContent = temp;

        // Affiche la popup
        document.getElementById('popup').style.display = 'block';
    });
});
</script>


    <!-- Section Consommation -->
    <div id="consumption" class="consumption-section">
        <h2>Consommation par Énergie</h2>
        <p>Choisissez une échelle de temps pour afficher la consommation :</p>

        <div class="select-time">
            <button class="btn btn-primary" onclick="updateChart('day')">Par Jour</button>
            <button class="btn btn-primary" onclick="updateChart('week')">Par Semaine</button>
            <button class="btn btn-primary" onclick="updateChart('month')">Par Mois</button>
        </div>

        <div class="chart-container">
            <canvas id="consumptionChart"></canvas>
        </div>
    </div>

    <div id="savings" class="savings-section">
        <h2>Bilan des économies réalisées</h2>
        <p>Comparez les économies d'énergie, d'eau et de déchets effectuées grâce à nos solutions éco-responsables.</p>
    
        <div class="select-time">
            <button class="btn btn-success" onclick="updateSavingsChart('day')">Par Jour</button>
            <button class="btn btn-success" onclick="updateSavingsChart('week')">Par Semaine</button>
            <button class="btn btn-success" onclick="updateSavingsChart('month')">Par Mois</button>
        </div>
    
        <div class="chart-container">
            <canvas id="savingsChart"></canvas>
        </div>
    </div>

    <!-- Pied de page -->
    <footer>
        <p>© 2024 Logement Eco-Responsable - Tous droits réservés. | <a href="/contact">Contactez-nous</a></p>
    </footer>

    <script>
        // Data mockup for each time scale (consommation)
        const data = {
            day: {
                labels: ['00:00', '06:00', '12:00', '18:00', '24:00'],
                electricity: [15, 30, 40, 35, 20],   // Nouvelle consommation en électricité
                water: [8, 14, 16, 10, 9],             // Nouvelle consommation en eau
                waste: [4, 5, 4, 5, 4]                // Nouvelle consommation de déchets
            },
            week: {
                labels: ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'],
                electricity: [60, 70, 65, 75, 80, 65, 55],  // Nouvelle consommation hebdomadaire
                water: [35, 40, 45, 37, 30, 25, 22],         // Nouvelle consommation d'eau hebdomadaire
                waste: [10, 12, 14, 10, 11, 8, 7]              // Nouvelle consommation des déchets
            },
            month: {
                labels: ['Semaine 1', 'Semaine 2', 'Semaine 3', 'Semaine 4'],
                electricity: [220, 240, 230, 250],   // Nouvelle consommation mensuelle d'électricité
                water: [130, 140, 135, 125],          // Nouvelle consommation mensuelle d'eau
                waste: [45, 50, 48, 45]               // Nouvelle consommation mensuelle de déchets
            }
        };
    
        // Data pour economie
        const savingsData = {
            day: {
                labels: ['00:00', '06:00', '12:00', '18:00', '24:00'],
                electricity: [4, 7, 10, 9, 5],      // Nouvelles économies sur l'électricité
                water: [1.5, 2.8, 4, 2.5, 1.5],    // Nouvelles économies sur l'eau
                waste: [0.8, 1, 0.9, 1, 0.8]   // Nouvelles économies sur les déchets
            },
            week: {
                labels: ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'],
                electricity: [25, 30, 28, 32, 35, 25, 20],   // Nouvelles économies hebdomadaires d'électricité
                water: [15, 18, 19, 13, 10, 9, 8],              // Nouvelles économies hebdomadaires d'eau
                waste: [5, 6, 7, 6, 5.5, 4.5, 4]        // Nouvelles économies hebdomadaires des déchets
            },
            month: {
                labels: ['Semaine 1', 'Semaine 2', 'Semaine 3', 'Semaine 4'],
                electricity: [90, 100, 95, 105],    // Nouvelles économies mensuelles d'électricité
                water: [60, 70, 65, 55],            // Nouvelles économies mensuelles d'eau
                waste: [18, 22, 20, 17]             // Nouvelles économies mensuelles des déchets
            }
        };
    
        // Initialize chart (consommation)
        const ctx = document.getElementById('consumptionChart').getContext('2d');
        let consumptionChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: data.day.labels,
                datasets: [
                    {
                        label: 'Électricité',
                        data: data.day.electricity,
                        borderColor: '#388e3c',
                        fill: false
                    },
                    {
                        label: 'Eau',
                        data: data.day.water,
                        borderColor: '#007bff',
                        fill: false
                    },
                    {
                        label: 'Déchets',
                        data: data.day.waste,
                        borderColor: '#ff5722',
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Heures/Jours/Semaines'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Consommation (en unités)'
                        }
                    }
                }
            }
        });
    
        // Initialize chart (économie)
        const ctxSavings = document.getElementById('savingsChart').getContext('2d');
        let savingsChart = new Chart(ctxSavings, {
            type: 'bar',
            data: {
                labels: savingsData.day.labels,
                datasets: [
                    {
                        label: 'Électricité (en kWh économisés)',
                        data: savingsData.day.electricity,
                        backgroundColor: 'rgba(56, 142, 60, 0.5)',
                        borderColor: '#388e3c',
                        borderWidth: 1
                    },
                    {
                        label: 'Eau (en litres économisés)',
                        data: savingsData.day.water,
                        backgroundColor: 'rgba(0, 123, 255, 0.5)',
                        borderColor: '#007bff',
                        borderWidth: 1
                    },
                    {
                        label: 'Déchets (en kg évités)',
                        data: savingsData.day.waste,
                        backgroundColor: 'rgba(255, 87, 34, 0.5)',
                        borderColor: '#ff5722',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Heures/Jours/Semaines'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Quantité économisée'
                        }
                    }
                }
            }
        });
    
        // Update chart based on selected time scale
        function updateChart(timeScale) {
            consumptionChart.data.labels = data[timeScale].labels;
            consumptionChart.data.datasets[0].data = data[timeScale].electricity;
            consumptionChart.data.datasets[1].data = data[timeScale].water;
            consumptionChart.data.datasets[2].data = data[timeScale].waste;
            consumptionChart.update();
        }
    
        function updateSavingsChart(timeScale) {
            savingsChart.data.labels = savingsData[timeScale].labels;
            savingsChart.data.datasets[0].data = savingsData[timeScale].electricity;
            savingsChart.data.datasets[1].data = savingsData[timeScale].water;
            savingsChart.data.datasets[2].data = savingsData[timeScale].waste;
            savingsChart.update();
        }
    </script>
    

 <!-- Source : chatgpt -->